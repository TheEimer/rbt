Bootstrap: docker
From: continuumio/miniconda3

%runscript

%files
    

%environment


%labels


%post
    apt update -y
    apt upgrade -y
    apt install curl -y
    apt install wget -y
    apt install git -y    
    . /opt/conda/etc/profile.d/conda.sh

   conda update -n base -c defaults conda  
   conda create -n arlb python=3.10
   conda init bash
   conda activate arlb

   pip install -U pip
   pip install -U "jax[cuda12_pip]" -f https://storage.googleapis.com/jax-releases/jax_cuda_releases.html
   pip install /tmp/scratch/git_repos/arlbench

   echo "Successfully installed all features"
